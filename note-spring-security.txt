ÄÃ¢y lÃ  má»™t class cáº¥u hÃ¬nh báº£o máº­t trong Spring Boot dÃ¹ng Spring Security 
Ä‘á»ƒ kiá»ƒm soÃ¡t quyá»n truy cáº­p cÃ¡c endpoint trong á»©ng dá»¥ng. 
ChÃºng ta sáº½ phÃ¢n tÃ­ch tá»«ng dÃ²ng, tá»«ng pháº§n, khÃ´ng bá» sÃ³t chi tiáº¿t nÃ o:
ğŸ“¦ 1. Khai bÃ¡o package
package com.example.musifyapi.config;
ÄÃ¢y lÃ  tÃªn package nÆ¡i class SecurityConfig Ä‘Æ°á»£c Ä‘áº·t.
Theo cáº¥u trÃºc chuáº©n cá»§a Java, cÃ¡c class nÃªn Ä‘Æ°á»£c tá»• chá»©c theo package Ä‘á»ƒ dá»… quáº£n lÃ½.
Trong dá»± Ã¡n nÃ y, cÃ³ váº» nhÆ° musifyapi lÃ  tÃªn API chÃ­nh, vÃ  config lÃ  nÆ¡i chá»©a cÃ¡c file cáº¥u hÃ¬nh.
ğŸ“¥ 2. Import cÃ¡c lá»›p cáº§n thiáº¿t
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.Customizer;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;
import org.springframework.security.web.SecurityFilterChain;
Má»—i dÃ²ng import cÃ³ vai trÃ² riÃªng:
Import	                | Giáº£i thÃ­ch
@Bean	                | ÄÃ¡nh dáº¥u má»™t phÆ°Æ¡ng thá»©c lÃ  bean â€“ Ä‘Æ°á»£c Spring quáº£n lÃ½.
@Configuration	        | Biáº¿n class nÃ y thÃ nh má»™t class cáº¥u hÃ¬nh (configuration class).
@EnableWebSecurity	    | KÃ­ch hoáº¡t Spring Security trÃªn á»©ng dá»¥ng web.
HttpSecurity	        | DÃ¹ng Ä‘á»ƒ cáº¥u hÃ¬nh báº£o máº­t HTTP â€“ cho phÃ©p cáº¥u hÃ¬nh cÃ¡ch cÃ¡c request Ä‘Æ°á»£c xá»­ lÃ½.
AbstractHttpConfigurer  | Cho phÃ©p táº¯t hoáº·c tÃ¹y biáº¿n cÃ¡c cáº¥u hÃ¬nh HTTP (vÃ­ dá»¥ nhÆ° CSRF).
SecurityFilterChain	    | Äáº¡i diá»‡n cho chuá»—i filter báº£o máº­t â€“ cáº¥u hÃ¬nh chÃ­nh Ä‘á»ƒ xÃ¡c Ä‘á»‹nh luá»“ng báº£o máº­t.
Customizer	            | Cung cáº¥p cÃ¡c cáº¥u hÃ¬nh máº·c Ä‘á»‹nh, tiá»‡n dá»¥ng khi gá»i .cors() hoáº·c cÃ¡c method tÆ°Æ¡ng tá»±.
ğŸ” 3. Class SecurityConfig
@Configuration
@EnableWebSecurity
public class SecurityConfig {
@Configuration: class nÃ y lÃ  má»™t Java Config, tá»©c lÃ  thay vÃ¬ cáº¥u hÃ¬nh XML, ta dÃ¹ng Java.
@EnableWebSecurity: báº­t tÃ­nh nÄƒng Spring Security.
TÃªn class lÃ  SecurityConfig, Ä‘Ãºng vá»›i chá»©c nÄƒng chÃ­nh lÃ  cáº¥u hÃ¬nh báº£o máº­t.
ğŸ§± 4. Äá»‹nh nghÄ©a Bean SecurityFilterChain
@Bean
public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
ÄÃ¢y lÃ  phÆ°Æ¡ng thá»©c chÃ­nh cáº¥u hÃ¬nh báº£o máº­t, tráº£ vá» má»™t SecurityFilterChain, 
lÃ  chuá»—i cÃ¡c filter mÃ  Spring Security sá»­ dá»¥ng Ä‘á»ƒ xá»­ lÃ½ request.
HttpSecurity http: Äá»‘i tÆ°á»£ng cáº¥u hÃ¬nh HTTP, dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh:
Nhá»¯ng URL nÃ o Ä‘Æ°á»£c phÃ©p truy cáº­p
Nhá»¯ng URL nÃ o cáº§n xÃ¡c thá»±c
Báº­t/táº¯t CSRF
Cáº¥u hÃ¬nh CORS
CÃ¡c bá»™ lá»c báº£o máº­t
ğŸŒ 5. Cáº¥u hÃ¬nh CORS (Cross-Origin Resource Sharing)
http.cors(Customizer.withDefaults())
.cors(): Báº­t há»— trá»£ CORS â€“ cho phÃ©p frontend (thÆ°á»ng cháº¡y á»Ÿ má»™t domain khÃ¡c) cÃ³ thá»ƒ gá»­i request Ä‘áº¿n API.
Customizer.withDefaults(): Sá»­ dá»¥ng cáº¥u hÃ¬nh CORS máº·c Ä‘á»‹nh. Náº¿u muá»‘n tÃ¹y chá»‰nh, 
báº¡n cÃ³ thá»ƒ viáº¿t CorsConfigurationSource.
ğŸ›¡ï¸ 6. VÃ´ hiá»‡u hÃ³a CSRF
.csrf(AbstractHttpConfigurer::disable)
.csrf(): Báº£o vá»‡ khá»i táº¥n cÃ´ng Cross-Site Request Forgery.
AbstractHttpConfigurer::disable: Táº¯t tÃ­nh nÄƒng nÃ y. LÃ½ do:
CSRF chá»§ yáº¿u dÃ¹ng cho cÃ¡c á»©ng dá»¥ng web cÃ³ session.
Äá»‘i vá»›i REST API (stateless, dÃ¹ng JWT hoáº·c token), CSRF khÃ´ng cáº§n thiáº¿t.
ğŸ“œ 7. Cáº¥u hÃ¬nh quyá»n truy cáº­p cho cÃ¡c URL
.authorizeHttpRequests(
    auth -> auth.requestMatchers(
        "/api/auth/login",
        "/api/auth/register",
        "/api/health"
    )
    .permitAll()
    .anyRequest()
    .authenticated()
)
Chi tiáº¿t:
âœ… requestMatchers(...)
XÃ¡c Ä‘á»‹nh danh sÃ¡ch cÃ¡c endpoint cÃ´ng khai â€“ khÃ´ng cáº§n xÃ¡c thá»±c.
Bao gá»“m:
/api/auth/login: API Ä‘Äƒng nháº­p
/api/auth/register: API Ä‘Äƒng kÃ½
/api/health: Kiá»ƒm tra tráº¡ng thÃ¡i há»‡ thá»‘ng (health check)
âœ… .permitAll()
Cho phÃ©p táº¥t cáº£ ngÆ°á»i dÃ¹ng, khÃ´ng cáº§n Ä‘Äƒng nháº­p, truy cáº­p cÃ¡c Ä‘Æ°á»ng dáº«n trÃªn.
ğŸ”’ .anyRequest().authenticated()
Má»i request khÃ¡c ngoÃ i 3 endpoint trÃªn Ä‘á»u cáº§n xÃ¡c thá»±c (pháº£i Ä‘Äƒng nháº­p má»›i truy cáº­p Ä‘Æ°á»£c).
ğŸ”š 8. Tráº£ vá» SecurityFilterChain
return http.build();
DÃ²ng nÃ y xÃ¢y dá»±ng cáº¥u hÃ¬nh vÃ  tráº£ vá» má»™t SecurityFilterChain.
Spring sáº½ sá»­ dá»¥ng chain nÃ y Ä‘á»ƒ xá»­ lÃ½ cÃ¡c request HTTP Ä‘áº¿n.
ğŸ§  TÃ³m táº¯t logic tá»•ng thá»ƒ
TÃ­nh nÄƒng	MÃ´ táº£
CORS	Báº­t, dÃ¹ng cáº¥u hÃ¬nh máº·c Ä‘á»‹nh
CSRF	Táº¯t (vÃ¬ API khÃ´ng cáº§n CSRF)
CÃ¡c endpoint cÃ´ng khai	/api/auth/login, /api/auth/register, /api/health
CÃ¡c endpoint khÃ¡c	YÃªu cáº§u xÃ¡c thá»±c
Má»¥c tiÃªu	Báº£o vá»‡ API, cho phÃ©p login/register khÃ´ng cáº§n token, cÃ¡c endpoint khÃ¡c thÃ¬ cáº§n token
ğŸ§© Gá»£i Ã½ nÃ¢ng cao (tuá»³ chá»n)
Náº¿u dÃ¹ng JWT Ä‘á»ƒ xÃ¡c thá»±c, báº¡n cÃ³ thá»ƒ cáº§n:
Custom AuthenticationFilter Ä‘á»ƒ kiá»ƒm tra token.
ThÃªm .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS) Ä‘á»ƒ vÃ´ hiá»‡u session.
ThÃªm .httpBasic().disable() náº¿u khÃ´ng dÃ¹ng HTTP Basic Auth.